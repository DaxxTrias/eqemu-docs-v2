# WCEmu v0.0.1

## Changes from previous versions

- This is an initial release so no changes from previous


## Header

Every file generated in wcemu format starts with the following header pattern:

```c
// wcemu v0.0.1
// This file was created by <generator>
```

The most important line is the `wcemu v#.#.#` pattern, this should be the first line of the file so parsers can identify if it is compatible or not.

## CPIWORLD

A CPI world definition. This wraps definitions that are scoped as a world. These are typically found in .wld files. They can be safely ignored, as they have no purpose or tag name for wcemu

Referred to by: None

WLD opcodes impacted: None

```c
CPIWORLD "_akheva.s3d/akheva.wld.bin"
ENDWORLD
```

- CPIWORLD: start of definition. Bin file is the name of the world file
- ENDWORLD: end of definition

## INCLUDE

After the header are all includes. Includes are references to files relative to the current one that should be loaded the moment the include declaration is stated.

While it is possible to have includes inlined later in a file, at this time it is recommended to layout files with the expectation includes are after the header only.


```c
INCLUDE "PREHE0002.MDF"
```

- Includes should be all uppercase as per the WLDCOM format directive, even if the file pointed to is all lowercase.
- TODO: Should we enforce a case sensitivity of files in an include? e.g. upper for INCLUDE param, and lower for file itself?

## SIMPLESPRITEDEF

A sprite sheet. This is a collection of textures with a unique tag name. These are typically found in .sps files.

Referred to by: [MATERIALDEFINITION](#materialdefinition)

WLD opcodes impacted: 0x06 (Sprite2DDef)

```c
SIMPLESPRITEDEF
	SIMPLESPRITETAG "ALLCH0001_SPRITE"
	NUMFRAMES 1
	FRAME "ALLCH0001.BMP" "ALLCH0001"
ENDSIMPLESPRITEDEF
```

- SIMPLESPRITEDEF: start of definition
- SIMPLESPRITETAG: unique tag name for the sprite sheet
- NUMFRAMES: number of frames in the sprite sheet
- FRAME: name of the frame and the texture reference file
- BMINFO: EQ's MAXCONVS SPK Skin Exporter uses this after NUMFRAMES instead of FRAME, wcemu does not use this
- ENDSIMPLESPRITEDEF: end of definition

## MATERIALDEFINITION

A material definition. This describes how a sprite should be rendered, it's brightness and other shader-related settings, and also creates a simple sprite instance based on a referred [SIMPLESPRITEDEF](#simplespritedef). These are typically found in .mdf files.

Referred to by: [MATERIALPALETTE](#materialpalette)

WLD opcodes impacted: 0x31 (MaterialDef), 0x07 (Sprite2D)

```c
MATERIALDEFINITION
	TAG "FISHE0101_MDF"
	// FLAGS 0
	RENDERMETHOD USERDEFINED
	RGBPEN 178 178 178
	BRIGHTNESS 0.0000000
	SCALEDAMBIENT 0.7500000
	SIMPLESPRITEINST
		TAG "FISHE0101_SPRITE"
		// FLAGS 0
	ENDSIMPLESPRITEINST
	// PAIR1 0
	// PAIR2 0
ENDMATERIALDEFINITION
```

- MATERIALDEFINITION: start of definition
- TAG: unique tag name for the material definition
- FLAGS: flags for the material definition
- RENDERMETHOD: method to render the material
- RGBPEN: RGB pen color
- BRIGHTNESS: brightness of the material
- SCALEDAMBIENT: scaled ambient value
- SIMPLESPRITEINST: start of simple sprite instance
- TAG: unique tag name for the simple sprite instance
- ENDSIMPLESPRITEINST: end of simple sprite instance
- ENDMATERIALDEFINITION: end of definition

## MATERIALPALETTE

A material palette. This is a collection of material definitions with a unique tag name. These are typically found in .spk or .wld files, and are the first entry in them.

Referred to by: [DMSPRITEDEF2](#dmspritedef2)

WLD opcodes impacted: 0x30 (MaterialPalette)

```c
MATERIALPALETTE
	TAG "ALL_MP"
	NUMMATERIALS 2
	MATERIAL "ALLHE0103_MDF"
	MATERIAL "ALLHE0102_MDF"
ENDMATERIALPALETTE
```

- MATERIALPALETTE: start of definition
- TAG: unique tag name for the material palette
- NUMMATERIALS: number of materials in the palette
- MATERIAL: name of the material definition
- ENDMATERIALPALETTE: end of definition

## POLYHEDRONDEF

A polyhedron definition. This is a collection of vertices, faces, and other properties that define a 3D object. These are typically found in .spk or .wld files.

Referred to by: [DMSPRITEDEF2](#dmspritedef2)

WLD opcodes impacted: 0x17 (PolyhedronDef)

```c
POLYHEDRONDEFINITION
	TAG	"prepe_POLYHDEF"
	// FLAGS 0
	BOUNDINGRADIUS	1.2431762e+002
	SCALEFACTOR	1.0
	NUMVERTICES	2
	XYZ	-5.9604645e-008 1.9073486e-005 -3.8146973e-006
	XYZ	-5.9604645e-008 5.0001717e-001 -2.4499998e+001
	NUMFACES	2
	FACE 1
		VERTEXLIST	3 3, 1, 2
	ENDFACE 1
	FACE 2
		VERTEXLIST	3 4, 1, 3
	ENDFACE 2
ENDPOLYHEDRONDEFINITION
```

- POLYHEDRONDEFINITION: start of definition. This is a 0x17 (PolyhedronDef) opcode
- TAG: unique tag name for the polyhedron definition
- BOUNDINGRADIUS: bounding radius of the polyhedron
- SCALEFACTOR: scale factor of the polyhedron
- NUMVERTICES: number of vertices in the polyhedron
- XYZ: x, y, and z coordinates of the vertex
- NUMFACES: number of faces in the polyhedron
- FACE: start of face definition
- VERTEXLIST: list of vertices in the face
- ENDFACE: end of face definition
- ENDPOLYHEDRONDEFINITION: end of definition


## DMSPRITEDEF

## DMSPRITEINSTANCE (Never used)

A 3D sprite instance. This is a collection of properties that defines an instance of a 3D sprite. These are typically found in .spk or .wld files.

Referred to by: [??](#actordef)

WLD opcodes impacted: 0x2D (DmSprite)

```c
DMSPRITEINSTANCE
	TAG "PRE_DMSPRITEDEF"
	DEFINITION "PRE_DMSPRITEDEF"
	PARAM 0
ENDDMSPRITEINSTANCE
```

- DMSPRITEINSTANCE: start of instance
- TAG: unique tag name for the 3D sprite instance
- DEFINITION: name of the 3D sprite definition
- PARAM: parameter value
- ENDDMSPRITEINSTANCE: end of instance



## DMSPRITEDEF2

A 3d sprite definition. This is a collection of properties that define a 3D sprite. These are typically found in .spk or .wld files.

Referred to by: [??](#actordef)

WLD opcodes impacted: 0x36 (DmSpriteDef2), 0x18 (Polyhedron)

```c
DMSPRITEDEF2
	TAG "PREPE_DMSPRITEDEF"
	// FLAGS 123 // need to assess
	CENTEROFFSET 6.9335580e-001 -1.2332956e+001 3.8766350e+001

	NUMVERTICES 1
	XYZ 0.0000000e+000 0.0000000e+000 0.0000000e+000

	NUMUVS 1
	UV 0.0000000e+000 0.0000000e+000

	NUMVERTEXNORMALS 1
	XYZ 0.0000000e+000 0.0000000e+000 0.0000000e+000

	SKINASSIGNMENTGROUPS 2 0 1 2 3

	MATERIALPALETTE "PRE_MP"

	POLYHEDRON
		DEFINITION	"prepe_POLYHDEF"
	ENDPOLYHEDRON

	NUMFACE2S 2
	DMFACE2 // 1
		FLAGS 0
		TRIANGLE 0 1 2
	ENDDMFACE2 // 1
	DMFACE2 // 2
		FLAGS 0
		TRIANGLE 0 2 3
	ENDDMFACE2 // 2

	//NUMMESHOPS 3
	//MESHOP_VA 22
	//MESHOP_SW 184 3 36
	//MESHOP_EL 1.0000000e+000

	FACEMATERIALGROUPS 2 0 1 2 3

	VERTEXMATERIALGROUPS 2 0 1 2 3

	BOUNDINGRADIUS 1.2431886e+002

	FPSCALE 7
ENDDMSPRITEDEF2
```

- DMSPRITEDEF2: start of definition. This is a 0x36 (DmSpriteDef2) opcode
- TAG: unique tag name for the 3D sprite definition
- FLAGS: flags for the 3D sprite definition
- CENTEROFFSET: center offset of the 3D sprite
- NUMVERTICES: number of vertices in the 3D sprite
- XYZ: x, y, and z coordinates of the vertex
- NUMUVS: number of UVs in the 3D sprite
- UV: UV values
- NUMVERTEXNORMALS: number of vertex normals in the 3D sprite
- XYZ: x, y, and z coordinates of the vertex normal
- SKINASSIGNMENTGROUPS: skin assignment groups
- MATERIALPALETTE: name of the material palette
- POLYHEDRON: start of polyhedron definition
- DEFINITION: name of the polyhedron definition
- ENDPOLYHEDRON: end of polyhedron definition
- NUMFACE2S: number of face2s in the 3D sprite
- DMFACE2: start of face2
- FLAGS: flags for the face2
- TRIANGLE: triangle values
- ENDDMFACE2: end of face2
- NUMMESHOPS: number of mesh operations
- MESHOP_VA: mesh operation vertex assignment
- MESHOP_SW: mesh operation swap
- MESHOP_EL: mesh operation element
- FACEMATERIALGROUPS: face material groups
- VERTEXMATERIALGROUPS: vertex material groups
- BOUNDINGRADIUS: bounding radius of the 3D sprite
- FPSCALE: floating point scale of the 3D sprite
- ENDDMSPRITEDEF2: end of definition

## TRACKDEFINITION

A track definition. This is a collection of properties that defines animation tracks for a 3D sprite. These are typically found in .spk or .wld files.

Note that when a track definition is declared, it is immediately followed by a [TRACKINSTANCE](#trackinstance), so the ASCII file is TRACKDEFINITION, TRACKINSTANCE, TRACKDEFINITION, TRACKINSTANCE, etc.

Referred to by: [??](#actordef)

WLD opcodes impacted: 0x12 (TrackDef)

```c
TRACKDEFINITION
	TAG "PRE_TRACKDEF"
	NUMFRAMES 1
	FRAMETRANSFORM 1.0000000e+000     0   512     0 0.0000000e+000 0.0000000e+000 0.0000000e+000
ENDTRACKDEFINITION
```

- TRACKDEFINITION: start of definition
- TAG: unique tag name for the track definition
- NUMFRAMES: number of frames in the track
- FRAMETRANSFORM: frame transform values
- ENDMATERIALDEFINITION: end of definition

## TRACKINSTANCE

A track instance. This is a collection of properties that defines an instance of an animation track for a 3D sprite. These are typically found in .spk or .wld files.

Referred to by: [??](#actordef)

WLD opcodes impacted: 0x13 (TrackInstance)

```c
TRACKINSTANCE
	TAG "PRE_TRACK"
	DEFINITION "PRE_TRACKDEF"
	INTERPOLATE 0
	REVERSE 0
	SLEEP 0
ENDTRACKINSTANCE
```

- TRACKINSTANCE: start of instance
- TAG: unique tag name for the track instance
- DEFINITION: name of the track definition
- INTERPOLATE: set an interpolate flag
- SLEEP: sleep value
- ENDTRACKINSTANCE: end of instance


## HIERARCHICALSPRITEDEFS

A hierarchical sprite definition. This is a collection of properties that defines a hierarchical sprite. These are typically found in .spk or .wld files.

Referred to by: [??](#actordef)

WLD opcodes impacted: 0x10 (HierarchicalSpriteDef)

```c
HIERARCHICALSPRITEDEF
	TAG "PRE_HS_DEF"
	NUMDAGS 2
	DAG  // 1
		TAG	"PRE_DAG"
		SPRITE ""
		TRACK "PRE_TRACK"
		SUBDAGLIST  1 2
	ENDDAG //1
	DAG  // 2
		TAG	"PREPE_DAG"
		SPRITE	"PREPE_DMSPRITEDEF"
		TRACK "PREPE_TRACK"
		SUBDAGLIST  9 3 29 33 37 41 45 49 52 55
	ENDDAG //2

	NUMATTACHEDSKINS 1
	LINKSKINUPDATESTODAGINDEX 2

	CENTEROFFSET 0.0 0.0 0.0
	DAGCOLLISION 0
	BOUNDINGRADIUS 1.4611023e+002
ENDHIERARCHICALSPRITEDEF
```

- HIERARCHICALSPRITEDEF: start of definition
- TAG: unique tag name for the hierarchical sprite definition
- NUMDAGS: number of dags in the hierarchical sprite
- DAG: start of dag definition
- TAG: unique tag name for the dag
- NULLSPRITE: set a null sprite
- TRACK: name of the track
- NUMSUBDAGS: number of subdags
- SUBDAGLIST: list of subdags
- ENDDAG: end of dag definition
- NUMATTACHEDSKINS: number of attached skins
- DMSPRITE: name of the 3D sprite
- LINKSKINUPDATESTODAGINDEX: link skin updates to dag index
- CENTEROFFSET: center offset of the hierarchical sprite
- DAGCOLLISIONS: start of dag collisions
- BOUNDINGRADIUS: bounding radius of the hierarchical sprite
- ENDHIERARCHICALSPRITEDEF: end of definition

## AMBIENTLIGHT

An ambient light definition. This is a collection of properties that defines an ambient light. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x1B (AmbientLight)

```c
AMBIENTLIGHT
	TAG "DEFAULT_AMBIENTLIGHT"
	LIGHT "DEFAULT_LIGHTDEF"
	REGIONLIST 2 1 2
ENDAMBIENTLIGHT
```

- AMBIENTLIGHT: start of definition
- TAG: unique tag name for the ambient light
- LIGHT: name of the light definition
- NUMREGIONS: number of regions
- REGIONS: list of regions
- ENDAMBIENTLIGHT: end of definition



## ACTORDEF

An actor definition. This is a collection of properties that defines an actor. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x14 (ActorDef)

```c
ACTORDEF
	ACTORTAG "BIX_ACTORDEF"
	CALLBACK "SPRITECALLBACK"
	// BOUNDSREF 0
	CURRENTACTION 0
	LOCATION 0.000000 0.000000 0.000000 0.000000 0.000000 0.000000
	NUMACTIONS 1
	ACTION
		// UNK1 0
		NUMLEVELSOFDETAIL 1
		LEVELOFDETAIL
			2DSPRITE "BIX_2DSPRITE"
			3DSPRITE "BIX_3DSPRITE"
			DMSPRITE "BIX_DMSPRITEDEF"
			HIERARCHICALSPRITE "BIX_HIERARCHICALSPRITE"
			MINDISTANCE 0.000000
		ENDLEVELOFDETAIL
	ENDACTION
	// UNK2 0
ENDACTORDEF
```

- ACTORDEF: start of definition
- ACTORTAG: unique tag name for the actor definition
- CALLBACK: name of the sprite callback
- CURRENTACTION: current action
- LOCATION: location of the actor
- NUMACTIONS: number of actions in the actor
- ACTION: start of action
- NUMLEVELSOFDETAIL: number of levels of detail
- LEVELOFDETAIL: start of level of detail
- 3DSPRITE: name of the 3D sprite
- HIERARCHICALSPRITE: name of the hierarchical sprite
- MINDISTANCE: minimum distance
- ENDLEVELOFDETAIL: end of level of detail
- ENDACTION: end of action
- ENDACTORDEF: end of definition

## ACTORINST

An actor instance. This is a collection of properties that defines an instance of an actor. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x15 (ActorInst)

```c
ACTORINST
	TAG "PLAYER_1"
	ACTIVE 1
	SPRITEVOLUMEONLY 1
	LOCATION 0.000000 0.000000 9.000000 0.000000 0.000000 0.000000
	// UNK1 0
	CURRENTACTION 0
	SPHERE "SPHERE_TAG"
	SOUND "PLAYER_SOUND"
	BOUNDINGRADIUS 0.500000
	SCALEFACTOR 0.500000
	DMRGBTRACK "PLAYER_RGBTRACK"
	USERDATA "?:"
ENDACTORINST
```

- ACTORINST: start of instance
- TAG: name of the actor definition
- ACTIVE: set the actor as active
- LOCATION: location of the actor
- SPHERE: sphere value
- BOUNDINGRADIUS: bounding radius of the actor
- SCALEFACTOR: scale factor of the actor
- ENDACTORINST: end of instance

## ZONE

A zone. This is a collection of properties that defines a zone. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x29 (Zone)

```c
ZONE
	TAG "TELEPORT_ZONE"
	REGIONLIST 2 24 25
	USERDATA "?"
ENDZONE
```

- ZONE: start of zone
- TAG: unique tag name for the zone
- NUMREGIONS: number of regions in the zone
- REGIONS: list of regions
- USERDATA: user data
- ENDZONE: end of zone

## LIGHTDEFINITION

A light definition. This is a collection of properties that defines a light. These are typically found in .spk or .wld files.

Referred to by: [PointLight](#pointlight)

WLD opcodes impacted: 0x1C (LightDef)

```c

LIGHTDEFINITION
	TAG "L0_LDEF"
	CURRENTFRAME 0
	NUMFRAMES 1
	LIGHTLEVELS 1.000000
	SLEEP 200
	SKIPFRAMES 1
	COLOR  0.156863 0.156863 0.705882
ENDLIGHTDEFINITION
```

- LIGHTDEFINITION: start of definition
- TAG: unique tag name for the light definition
- NUMFRAMES: number of frames in the light
- LIGHTLEVELS: light levels
- SLEEP: sleep value
- SKIPFRAMES: skip frames
- COLOR: color of the light
- ENDLIGHTDEFINITION: end of definition

## POINTLIGHT

A point light definition. This is a collection of properties that defines a point light. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x28 (PointLight)

```c
POINTLIGHT
	TAG "L0"
	// FLAGS 0
	XYZ -49.443108 -7.105704 5.820261
	LIGHT "L0_LDEF"
	RADIUSOFINFLUENCE 40.000000
ENDPOINTLIGHT
```

- POINTLIGHT: start of definition
- XYZ: x, y, and z coordinates of the point light
- LIGHT: name of the light definition
- RADIUSOFINFLUENCE: radius of influence
- ENDPOINTLIGHT: end of definition

## 3DSPRITEDEF

A 3D sprite definition. This is a collection of properties that defines a 3D sprite. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x08 (Sprite3DDef)

```c
3DSPRITEDEF
	TAG "CAMERA_DUMMY"
	CENTEROFFSET 0.000000 0.000000 0.000000
	BOUNDINGRADIUS 0.000000
	NUMVERTICES 4
	XYZ 0.000000 -1.000000 1.000000
	XYZ 0.000000 1.000000 1.000000
	XYZ 0.000000 1.000000 -1.000000
	XYZ 0.000000 -1.000000 -1.000000
	NUMBSPNODES 1
	BSPNODE
		VERTEXLIST 4 1 2 3 4
		RENDERMETHOD TRANSPARENT
		RENDERINFO
			PEN 16
		ENDRENDERINFO
		FRONTTREE 0
		BACKTREE 0
		SPRITE "CAMERA_SPRITE"
	ENDBSPNODE
END3DSPRITEDEF
```

- 3DSPRITEDEF: start of definition
- 3DSPRITETAG: unique tag name for the 3D sprite definition
- NUMVERTICES: number of vertices in the 3D sprite
- XYZ: x, y, and z coordinates of the vertex
- NUMBSPNODES: number of BSP nodes
- BSPNODE: start of BSP node
- VERTEXLIST: list of vertices in the BSP node
- RENDERMETHOD: method to render the 3D sprite
- RENDERINFO: start of render info
- PEN: pen value
- ENDRENDERINFO: end of render info
- FRONTTREE: front tree
- BACKTREE: back tree
- ENDBSPNODE: end of BSP node
- END3DSPRITEDEF: end of definition

## WORLDTREE

A world tree. This is a collection of properties that defines a world tree. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x21 (WorldTree)

```c
WORLDTREE
	TAG "WORLD_TREE"
    NUMWORLDNODES 2
    WORLDNODE
        NORMALABCD -0.445420 -0.816603 -0.367097 -341.801483
        WORLDREGIONTAG 0
        FRONTTREE 2
        BACKTREE 3
		DISTANCE 0.000000
    ENDWORLDNODE
    WORLDNODE
        NORMALABCD 0.000000 0.000000 1.000000 -237.000000
        WORLDREGIONTAG 0
        FRONTTREE 6
        BACKTREE 4
		DISTANCE 0.000000
    ENDWORLDNODE
ENDWORLDTREE
```

- WORLDTREE: start of definition
- NUMWORLDNODES: number of world nodes
- WORLDNODE: start of world node
- NORMALABCD: normal abcd values
- WORLDREGIONTAG: world region tag
- FRONTTREE: front tree
- BACKTREE: back tree
- ENDWORLDNODE: end of world node
- ENDWORLDTREE: end of definition

## REGION

A region. This is a collection of properties that defines a region. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x22 (Region)

```c
REGION
	REGIONTAG "R000148"
	NUMREGIONVERTEX 1
	XYZ 0.000000 0.000000 0.000000
	NUMRENDERVERTICES 1
	XYZ 0.000000 0.000000 0.000000
	NUMWALLS 1
	WALL
		NORMALABCD 0.000000 0.000000 0.000000 0.000000
		NUMVERTICES 1
		XYZ 0.000000 0.000000 0.000000
	ENDWALL
	NUMOBSTACLES 1
	OBSTACLE
		NORMALABCD 0.000000 0.000000 0.000000 0.000000
		NUMVERTICES 1
		XYZ 0.000000 0.000000 0.000000
	ENDOBSTACLE
	NUMCUTTINGOBSTACLES 1
	CUTTINGOBSTACLE
		NORMALABCD 0.000000 0.000000 0.000000 0.000000
		NUMVERTICES 1
		XYZ 0.000000 0.000000 0.000000
	ENDCUTTINGOBSTACLE

	VISTREE
		NUMVISNODE 1
		VISNODE
			NORMALABCD 0.000000 0.000000 0.000000 0.000000
			VISLISTINDEX 1
			FRONTTREE 0
			BACKTREE 0
		ENDVISNODE
		NUMVISLIST 1
		VISIBLELIST
			RANGE 4 37632 57350 1 17312
		ENDVISIBLELIST
	ENDVISTREE
	SPHERE -515.000000 -7.000000 32.310989 0.000000
	USERDATA "?:"
ENDREGION
```

- REGION: start of definition
- REGIONTAG: unique tag name for the region
- NUMREGIONVERTEX: number of region vertices
- NUMRENDERVERTICES: number of render vertices
- NUMWALLS: number of walls
- NUMOBSTACLES: number of obstacles
- NUMCUTTINGOBSTACLES: number of cutting obstacles
- VISTREE: start of vis tree
- NUMVISNODE: number of vis nodes
- NUMVISLIST: number of vis lists
- VISNODE: start of vis node
- NORMALABCD: normal abcd values
- VISLISTINDEX: vis list index
- FRONTTREE: front tree
- BACKTREE: back tree
- ENDVISNODE: end of vis node
- VISIBLELIST: start of visible list
- RANGE: range values
- ENDVISIBLELIST: end of visible list
- ENDVISTREE: end of vis tree
- SPHERE: sphere values
- USERDATA: user data
- ENDREGION: end of definition

## RGBDEFORMATIONTRACKDEF

An RGB deformation track definition. This is a collection of properties that defines an RGB deformation track. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x1D (RgbDeformationTrackDef)

```c
RGBDEFORMATIONTRACKDEF
	TAG "ENT1_DMT"
	// NUMFRAMES 1 // if this isn't 1, let xack know
	// DATA2 1 // if this isn't 1, let xack know
	// NUMVERTICES 0 // if this isn't 0, let xack know
	SLEEP 200
	RGBDEFORMATIONFRAME
		NUMRGBAS 2
		RGBA 128 128 128 217
		RGBA 255 255 255 255
	ENDRGBDEFORMATIONFRAME
ENDRGBDEFORMATIONTRACKDEF
```

- RGBDEFORMATIONTRACKDEF: start of definition
- NUMFRAMES: number of frames in the track
- DATA2: data2 value
- NUMVERTICES: number of vertices
- SLEEP: sleep value
- RGBDEFORMATIONFRAME: start of frame
- NUMRGBAS: number of RGBAs
- RGBA: RGBA values
- ENDRGBDEFORMATIONFRAME: end of frame
- ENDRGBDEFORMATIONTRACKDEF: end of definition

## RGBDEFORMATIONTRACKINST

An RGB deformation track instance. This is a collection of properties that defines an instance of an RGB deformation track. These are typically found in .spk or .wld files.

Referred to by: [??](#worlddefinition)

WLD opcodes impacted: 0x1E (RgbDeformationTrackInst)

```c
RGBDEFORMATIONTRACKINST
	TAG "PLAYER_RGBTRACK"
	DEFINITION "PLAYER_RGBDEF"
	FLAGS 0
ENDRGBDEFORMATIONTRACKINST